<!-- Welcome message section, shown only when formVisible is false -->
<!-- <h2  class="heading" >Talk to Top Rated Counselors Online</h2>
<div *ngIf="!formVisible" class="welcome-container">
  <div>
    <p>
      Get support anytime, anywhere—connect with online counselors now! Our top-notch online counselors, all with
      Master's Degrees and hours of intensive training, are ready to help you conquer life's challenges. Join over
      500,000 clients who've thrived with our expert support!
    </p>
  </div>
  <div class="button-container">
    <button class="get-started-btn" (click)="showForm()">Get Started</button>
  </div>
  <img src="assets/welcome.png"  class="welcome-image" />
</div> -->
<!-- welcome.component.html -->
<h2 class="heading">Talk to Top Rated Counselors Online</h2>
<div *ngIf="!formVisible" class="welcome-container">
  <!-- Left Column -->
  <div class="left-column">
    <p>
      Get support anytime, anywhere—connect with online counselors now! Our top-notch online counselors, all with
      Master's Degrees and hours of intensive training, are ready to help you conquer life's challenges. Join over
      500,000 clients who've thrived with our expert support!
    </p>
    <div class="button-container">
      <button class="get-started-btn" (click)="showForm()">Get Started</button>
    </div>
  </div>

  <!-- Right Column -->
  <div class="right-column">
    <img src="assets/welcome.png" alt="Counseling Image" class="counseling-image">
  </div>
</div>

<!-- Form section, shown only when formVisible is true -->
<form *ngIf="formVisible" class="counselor-form">
  <div class="questionnaire-container">
    <!-- Display the current question based on the currentStep index -->
    <ng-container [ngSwitch]="currentStep">
      <!-- Step 1: Type of Therapy -->
      <div *ngSwitchCase="0">
        <h3>What type of therapy are you looking for?</h3>
        <label><input type="radio" name="therapyType" (change)="nextStep('Individual')" /> Individual (for myself)</label>
        <label><input type="radio" name="therapyType" (change)="nextStep('Couples')" /> Couples (for myself and my partner)</label>
        <label><input type="radio" name="therapyType" (change)="nextStep('Teen')" /> Teen (for my child)</label>
      </div>
  
      <!-- Step 2: Age -->
      <div *ngSwitchCase="1">
        <label for="age">How old are you?</label>
        <select id="age" (change)="onAgeChange($event)">
          <option *ngFor="let age of ages" [value]="age">{{ age }}</option>
        </select>
      </div>
  
      <!-- Step 3: Gender Identity -->
      <div *ngSwitchCase="2">
        <h3>How do you identify?</h3>
        <label><input type="radio" name="gender" (change)="nextStep('Straight')" /> Straight</label>
        <label><input type="radio" name="gender" (change)="nextStep('Gay')" /> Gay</label>
        <label><input type="radio" name="gender" (change)="nextStep('Lesbian')" /> Lesbian</label>
        <label><input type="radio" name="gender" (change)="nextStep('Bi or Pan')" /> Bi or Pan</label>
        <label><input type="radio" name="gender" (change)="nextStep('Prefer not to say')" /> Prefer not to say</label>
      </div>
  
      <!-- Step 4: Importance of Religion -->
      <div *ngSwitchCase="3">
        <h3>How important is religion in your life?</h3>
        <label><input type="radio" name="religion" (change)="nextStep('Very important')" /> Very important</label>
        <label><input type="radio" name="religion" (change)="nextStep('Important')" /> Important</label>
        <label><input type="radio" name="religion" (change)="nextStep('Somewhat important')" /> Somewhat important</label>
        <label><input type="radio" name="religion" (change)="nextStep('Not important at all')" /> Not important at all</label>
      </div>
  
      <!-- Step 5: Alcohol Consumption -->
      <div *ngSwitchCase="4">
        <h3>How often do you drink alcohol?</h3>
        <label><input type="radio" name="alcohol" (change)="nextStep('Never')" /> Never</label>
        <label><input type="radio" name="alcohol" (change)="nextStep('Infrequently')" /> Infrequently</label>
        <label><input type="radio" name="alcohol" (change)="nextStep('Monthly')" /> Monthly</label>
        <label><input type="radio" name="alcohol" (change)="nextStep('Weekly')" /> Weekly</label>
        <label><input type="radio" name="alcohol" (change)="nextStep('Daily')" /> Daily</label>
      </div>
  
      <!-- Step 6: Reason for Therapy -->
      <div *ngSwitchCase="5">
        <h3>What led you to consider therapy today?</h3>
        <div *ngFor="let reason of therapyReasons">
          <label><input type="checkbox" (change)="toggleSelection(reason, 'reasons')" /> {{ reason }}</label>
        </div>
        <button (click)="nextStep()">Next</button>
      </div>
  
      <!-- Step 7: Expectations from Therapist -->
      <div *ngSwitchCase="6">
        <h3>What are your expectations from your therapist?</h3>
        <div *ngFor="let expectation of therapyExpectations">
          <label><input type="checkbox" (change)="toggleSelection(expectation, 'expectations')" /> {{ expectation }}</label>
        </div>
        <button type="button" (click)="determineSpecialization()">Find Counsellors</button>
      </div>
  
      <!-- Default case when all steps are completed -->
      <div *ngSwitchDefault>
        <h3>Thank you for completing the questionnaire!</h3>
      </div>
    </ng-container>
  </div>

</form>


<div *ngIf="error" class="error-message">{{ error }}</div>

<div *ngIf="counsellors.length!==0">
  <h3>Recommended Counsellors:</h3>
  <ul class="counsellors-list">
    <li *ngFor="let counsellor of counsellors">
      <strong>Name:</strong> {{ counsellor.name }}<br>
      <strong>Specialization:</strong> {{ counsellor.specialization }}<br>
      <strong>Contact Info:</strong> {{ counsellor.contactInfo }}
    </li>
  </ul>
</div>
